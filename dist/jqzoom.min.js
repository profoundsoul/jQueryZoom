!function(o){var e={xzoom:336,yzoom:336,offset:30,position:"right",lens:!0,bigImageUrlAttribute:"jqimg",zoomClassName:"zoomdiv",zoomPupClassName:"jqZoomPup",zoomBigImageClassName:"bigimg"};o.fn.jqueryzoom=function(t){function s(o){var e,t,s="x",a="y",l=o.pageX,m=o.pageY,n=i.offset().left,r=i.offset().top,h=i.children("img").eq(0),d=h[0].offsetWidth,g=h[0].offsetHeight,p=i.siblings("."+f.zoomClassName).eq(0),c=i.find("."+f.zoomPupClassName).eq(0),z=p.find("."+f.zoomBigImageClassName)[0].offsetWidth,u=p.find("."+f.zoomBigImageClassName)[0].offsetHeight;!z||!u||z<d||(isNaN(a)|isNaN(s)&&(a=z/d,s=u/g,c.width(f.xzoom/a),c.height(f.yzoom/s),f.lens&&c.css("visibility","visible")),e=l-c.width()/2-n,t=m-c.height()/2-r,f.lens&&(e=l-c.width()/2<n?0:l+c.width()/2>d+n?d-c.width()-2:e,t=m-c.height()/2<r?0:m+c.height()/2>g+r?g-c.height()-2:t,c.css({top:t,left:e})),p[0].scrollTop=t*s,p[0].scrollLeft=e*a)}var i=o(this),a="",f=o.extend({},e,t||{}),l="undefined"!=typeof _&&_.throttle?_.throttle(s,50,{trailing:!1}):s;i.css("position","relative"),i.off("mouseenter").on("mouseenter",function(){var o,e=i.offset().left,t=i.offset().top,s=i.children("img").eq(0);if(!(s.length<1)){var l=s[0].offsetWidth,m=s.attr(f.bigImageUrlAttribute);a=s.attr("alt"),s.attr("alt",""),0==i.find("."+f.zoomClassName).length&&(i.after(["<div class='"+f.zoomClassName+"' style='z-index: 100; position: absolute; top:0px; left:0px; width: 200px; height:200px; background: #fff; border:1px solid #CCC; display:none;text-align: center;overflow: hidden;'>","<img class='"+f.zoomBigImageClassName+"' src='"+m+"'/>","</div>"].join("")),i.append("<div style='z-index: 10; visibility: hidden; position:absolute;top:0px;left:0px; border: 1px solid #fff;background:#fff;opacity: 0.5;filter: alpha(Opacity=50);' class='"+f.zoomPupClassName+"'>&nbsp;</div>")),"right"==f.position?o=e+l+f.offset+f.xzoom>screen.width?e-f.offset-f.xzoom:e+l+f.offset:(o=e-f.xzoom-f.offset,o<0&&(o=e+l+f.offset));var n=i.siblings("."+f.zoomClassName).eq(0);n.css({top:t,left:o,width:f.xzoom+"px",height:f.yzoom+"px"}).show(),f.lens||i.css("cursor","crosshair")}}),i.off("mousemove").on("mousemove",l),i.off("mouseleave").on("mouseleave",function(){i.children("img").attr("alt",a),f.lens&&i.find("."+f.zoomPupClassName).remove(),i.siblings("."+f.zoomClassName).remove()})}}(jQuery);